{
  "code": "import AdMgr from \"../Mod/AdMgr\";\r\nimport GameLogic from \"../Crl/GameLogic\";\r\nexport default class ClickBoxUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n        this.box = this['box'];\r\n        this.tips = this['tips'];\r\n        this.tick = this['tick'];\r\n        this.sureBtn = this['sureBtn'];\r\n        this.bar = this['bar'];\r\n        this.curProgress = 0;\r\n        this.gotBox = false;\r\n    }\r\n    onOpened() {\r\n        this.initData();\r\n    }\r\n    onClosed() {\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    initData() {\r\n        this.sureBtn.on(Laya.Event.CLICK, this, this.clickBoxBtnCB);\r\n        this.tips.on(Laya.Event.CLICK, this, this.tickCB);\r\n        Laya.timer.frameLoop(1, this, this.decProgress);\r\n    }\r\n    decProgress() {\r\n        if (this.curProgress >= 1) {\r\n            Laya.timer.clear(this, this.decProgress);\r\n            this.bar.value = this.curProgress;\r\n            return;\r\n        }\r\n        this.curProgress -= 0.005;\r\n        if (this.curProgress < 0) {\r\n            this.curProgress = 0;\r\n        }\r\n        this.bar.value = this.curProgress;\r\n    }\r\n    clickBoxBtnCB() {\r\n        if (this.gotBox) {\r\n            let cb = () => {\r\n                this.close();\r\n                Laya.Scene.open('MyScenes/GameUI.scene');\r\n                GameLogic.Share.restartGame();\r\n            };\r\n            if (this.tick.visible) {\r\n                AdMgr.instance.showVideo(cb);\r\n            }\r\n            else {\r\n                cb();\r\n            }\r\n        }\r\n        else {\r\n            this.curProgress += 0.1;\r\n            if (this.curProgress >= 1) {\r\n                this.gotBox = true;\r\n                this.tips.visible = true;\r\n                this.tick.visible = true;\r\n                this.bar.visible = false;\r\n                this.box.skin = 'clickBoxUI/cj-bx2.png';\r\n                this.sureBtn.skin = 'clickBoxUI/cj-an.png';\r\n                this.sureBtn.getChildAt(0).visible = false;\r\n            }\r\n        }\r\n    }\r\n    tickCB() {\r\n        this.tick.visible = !this.tick.visible;\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaProjects/DrawWeaponTT/src/Mod/AdMgr.ts",
    "E:/LayaProjects/DrawWeaponTT/src/Crl/GameLogic.ts"
  ]
}
